#!/bin/bash

# Parse the Apache log file, group by IP and HTTP status code, and sort by occurrences
awk '{print $1, $9}' access.log | awk '{count[$1, $2]++} END {
    for (key in count) {
        split(key, parts, SUBSEP)
        printf "%8d %s %s\n", count[key], parts[1], parts[2]
    }
}' | sort -rni
