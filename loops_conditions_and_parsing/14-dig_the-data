#!/usr/bin/env bash
# Parse the Apache log file, group by IP and HTTP status code, and sort by occurrences
awk '{print $1, $9}' access.log | \
awk '{print $0}' | \
sort | \
uniq -c | \
awk '{printf "%8d %s %s\n", $1, $2, $3}' | \
sort -rn
